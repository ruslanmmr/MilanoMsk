{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","timerMain","slider","nav","mask","popup","modalMagnificBasket","moreinfo","resize","innerWidth","visibleOnly","threshold","effect","effectTime","navButton","overlay","click","scrollLock","addClass","fadeIn","hide","removeClass","fadeOut","show","css","toggleClass","event","stateCheck","mobileLink","window","each","$this","this","finalDate","data","console","countdown","pag","hasClass","parents","find","eq","index","arrows","slidesToScroll","slidesToShow","lazyLoad","dots","on","children","parent","slick","setTimeout","jQuery","closeBtnInside","removalDelay","mainClass","magnificPopup","showCloseBtn","fixedContentPos","disableOn","type","preloader","scrollLink","desctopLink","height","body","scroll","div_1","length","scrollTop","div_top","offset","blockHeight","top","window_top","headerHeight","id","attr","preventDefault","target","animate","siblings","slideToggle","text","button"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  timerMain();\r\n  slider();\r\n  nav();\r\n  mask();\r\n  popup();\r\n  modalMagnificBasket();\r\n  landingScroll();\r\n  moreinfo();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\nvar mobileLink = $(\".mobile-nav__link\");\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n\r\n//mobile nav\r\nfunction nav() {\r\n  var navButton = $('.mobile-button, .mobile-nav__close'),\r\n      nav = $('.mobile-nav'),\r\n      overlay = $('.header__overlay');\r\n\r\n  navButton.click(function(event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('mobile-nav_active');\r\n    stateCheck();\r\n  })\r\n  mobileLink.click(function() {\r\n    nav.removeClass('mobile-nav_active');\r\n    stateCheck();\r\n  })\r\n\r\n  function stateCheck() {\r\n    if(nav.hasClass('mobile-nav_active')) {\r\n      navButton.addClass('mobile-button_active');\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('body').css('overflow', 'hidden')\r\n    } else {\r\n      navButton.removeClass('mobile-button_active');\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('body').css('overflow', 'visible')\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if(innerWidth>768) {\r\n      nav.removeClass('mobile-nav_active');\r\n      stateCheck();\r\n    }\r\n  });\r\n}\r\n//timer\r\nfunction timerMain() {\r\n  $('[data-countdown]').each(function() {\r\n    var $this = $(this), finalDate = $(this).data('countdown');\r\n    console.log(finalDate);\r\n    $this.countdown(finalDate, function(event) {\r\n      $this.html(event.strftime(''\r\n      + '<div><span>%D</span> Дней</div>'\r\n      + '<div><span>%H</span> Часов</div>'\r\n      + '<div><span>%M</span> Минут</div>'\r\n      + '<div><span>%S</span> Секунд</div>'));\r\n    });\r\n  });\r\n}\r\n//gallery-slider\r\nfunction slider() {\r\n  $('.catalogue-block__slider').each( function() {\r\n    $(this).slick({\r\n      arrows: true,\r\n      slidesToScroll: 1,\r\n      slidesToShow: 1,\r\n      lazyLoad: 'ondemand',\r\n      dots: true\r\n    });\r\n  });\r\n  pag();\r\n\r\n  $('.catalogue-block__slider').on('swipe', function(){\r\n    pag();\r\n  });\r\n\r\n  $('.catalogue-block__nav-slider .catalogue-block__slide').children().click(function() {\r\n    var index = $(this).parent().index();\r\n    $(this).parents('.catalogue-block').find('.catalogue-block__slider').slick('slickGoTo', index);\r\n    pag();\r\n  });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    $(\".slick-dots li\").each(function() {\r\n      if($(this).hasClass(\"slick-active\")) {\r\n        $(this).parents('.catalogue-block').find('.catalogue-block__nav-slider .catalogue-block__slide').removeClass(\"catalogue-block__slide_active\");\r\n        $(this).parents('.catalogue-block').find('.catalogue-block__nav-slider .catalogue-block__slide').eq($(this).index()).addClass(\"catalogue-block__slide_active\");\r\n      }\r\n    });\r\n  }\r\n\r\n  $(\".catalogue-block .slick-arrow\").on('click', function(){\r\n    setTimeout(function(){\r\n      pag();\r\n    }, 100);\r\n  });\r\n\r\n  //догрузка изображений при перелистывании\r\n  $('.catalogue-block__slider').on('afterChange', function(){\r\n    lazy();\r\n  });\r\n}\r\n//mask\r\nfunction mask() {\r\n  jQuery(function($){\r\n    $(\".phone\").mask(\"9 (999) 99-9999\");\r\n });\r\n}\r\n//popup\r\nfunction popup() {\r\n}\r\nfunction modalMagnificBasket() {\r\n\t$('.popup_link').magnificPopup({\r\n\t\tcloseBtnInside: false,\r\n    fixedContentPos: true,\r\n    removalDelay: 300,\r\n    mainClass: 'mfp-fade',\r\n    showCloseBtn: true\r\n  });\r\n  $('.popup-youtube').magnificPopup({\r\n    disableOn: 576,\r\n    type: 'iframe',\r\n    mainClass: 'mfp-fade',\r\n    removalDelay: 300,\r\n    preloader: false,\r\n    fixedContentPos: true,\r\n    closeBtnInside: false,\r\n    showCloseBtn: true\r\n  });\r\n}\r\n//якорные ссылки\r\nfunction landingScroll() {\r\n  var headerHeight = $(\".header\").height();\r\n  var body = $(\"body\");\r\n  var scrollLink = $('.scroll-link')\r\n  var desctopLink = $(\".nav__link\");\r\n\r\n  function scroll() {\r\n    if(body.hasClass(\"in-scroll\")) {} else {\r\n      scrollLink.each(function () {\r\n        var window_top = $(window).scrollTop();\r\n        var div_1 = $(this).attr('href');\r\n        if($(div_1).length > 0) {\r\n          var div_top = $(div_1).offset().top;\r\n          var blockHeight = $(div_1).height();\r\n          if (window_top > (div_top - headerHeight) && window_top < (div_top - headerHeight) + blockHeight){\r\n            $('.nav__item').find('a').removeClass('scroll-link_active');\r\n            $('.nav__item').find('a[href=\"'+div_1+'\"]').addClass('scroll-link_active');\r\n          } else {\r\n            $('.nav__item').find('a[href=\"'+div_1+'\"]').removeClass('scroll-link_active');\r\n          };\r\n        }\r\n      });\r\n    }\r\n  }\r\n  $(window).scroll(function(){\r\n    scroll();\r\n  });\r\n  scrollLink.click(function (event) {\r\n    var id  = $(this).attr('href'),\r\n        top = $(id).offset().top - headerHeight + 1;\r\n    event.preventDefault();\r\n    scrollLink.removeClass('nav__link_active');\r\n    $(this).addClass('nav__link_active');\r\n\r\n    if (mobileLink.is(event.target)) {\r\n      setTimeout(function() {\r\n        $('body,html').animate({scrollTop: top}, 400);\r\n      }, 300)\r\n    } else if (desctopLink.is(event.target)) {\r\n      $('body,html').animate({scrollTop: top}, 400);\r\n      body.addClass(\"in-scroll\");\r\n      setTimeout(function() {\r\n        body.removeClass(\"in-scroll\");\r\n      }, 400)\r\n    } else {\r\n      $('body,html').animate({scrollTop: top}, 400);\r\n    }\r\n  })\r\n}\r\n\r\n//more {\r\nfunction moreinfo() {\r\n  var button = $('.catalogue-block-more__btn');\r\n\r\n  button.on('click', function() {\r\n    $(this).toggleClass('catalogue-block-more__btn_active')\r\n    $(this).siblings('.catalogue-block-more__dropdown').slideToggle(300);\r\n    if($(this).hasClass('catalogue-block-more__btn_active')) {\r\n      $(this).text('Нажмите, чтобы cкрыть полное описание');\r\n    } else {\r\n      $(this).text('Нажмите, чтобы открыть полное описание');\r\n    }\r\n  })\r\n\r\n}"]}